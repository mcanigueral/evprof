<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Standard data format • evprof</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Standard data format">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZKG1YCMCDJ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZKG1YCMCDJ');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">evprof</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/evprof.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/sessions-format.html">Standard data format</a></li>
    <li><a class="dropdown-item" href="../articles/outliers.html">Outliers detection</a></li>
    <li><a class="dropdown-item" href="../articles/evmodel.html">EV model object</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Study cases</h6></li>
    <li><a class="dropdown-item" href="../articles/california.html">California case study</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/resourcefully-dev/evprof/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Standard data format</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/resourcefully-dev/evprof/blob/HEAD/vignettes/sessions-format.Rmd" class="external-link"><code>vignettes/sessions-format.Rmd</code></a></small>
      <div class="d-none name"><code>sessions-format.Rmd</code></div>
    </div>

    
    
<p>Most functions from <a href="https://github.com/resourcefully-dev/evprof/" class="external-link">evprof</a> and <a href="https://mcanigueral.github.io/evsim/" class="external-link">evsim</a>
packages use an input parameter called <code>sessions</code>. This
parameter requires to be a <code>tibble</code>, every row being an EV
charging session and every column being a variable defining the charging
characteristics in terms of time, power, energy, location, etc.</p>
<p>These variables must have standard names in order to use the
functions without errors. The names of the variables used in
<code>evprof</code> and <code>evsim</code> functions are provided by the
object <code>sessions_feature_names</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">evprof</span><span class="fu">::</span><span class="va"><a href="../reference/sessions_feature_names.html">sessions_feature_names</a></span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "Session"                 "ConnectionStartDateTime"</span></span>
<span><span class="co">##  [3] "ConnectionEndDateTime"   "ChargingStartDateTime"  </span></span>
<span><span class="co">##  [5] "ChargingEndDateTime"     "Power"                  </span></span>
<span><span class="co">##  [7] "Energy"                  "ConnectionHours"        </span></span>
<span><span class="co">##  [9] "ChargingHours"           "FlexibilityHours"       </span></span>
<span><span class="co">## [11] "ChargingStation"         "Socket"</span></span></code></pre>
<p>Brief description of the <strong>mandatory</strong> variables to
perform the profiling and modelling of EV user profiles:</p>
<ul>
<li>
<strong>Session</strong>: unique identifier for every charging
session.</li>
<li>
<strong>ConnectionStartDateTime</strong>: date and time when the
vehicle was connected.</li>
<li>
<strong>ConnectionEndDateTime</strong>: date and time when the
vehicle was disconnected.</li>
<li>
<strong>Energy</strong>: energy charged in kWh.</li>
</ul>
<p>Brief description of the <strong>optional</strong> variables:</p>
<ul>
<li>
<strong>ChargingStartDateTime</strong>: date and time when the
vehicle started charging (normally the same than
<code>ConnectionStartDateTime</code>).</li>
<li>
<strong>ChargingEndDateTime</strong>: date and time when the vehicle
finished charging (when the battery gets full).</li>
<li>
<strong>Power</strong>: average charging power in kW. It is an
average value since the power profile is not a perfect step of constant
power. However it should be approximately equal to the most common
values for EV charging considering standard three-phase charging
stations with 16A sockets: 3.7 kW (1phase-16A), 7.4 kW (2phase-16A) and
11 kW (3phase-16A).</li>
<li>
<strong>ConnectionHours</strong>: number of hours that the vehicle
was connected.</li>
<li>
<strong>ChargingHours</strong>: number of hours that the vehicle was
charging.</li>
<li>
<strong>FlexibilityHours</strong>: number of hours that the vehicle
is connected but not charging.</li>
<li>
<strong>ChargingStation</strong>: unique identifier for the charging
station of every charging sessions.</li>
<li>
<strong>Socket</strong>: number of the socket in the charging
station (normally being 1 or 2).</li>
</ul>
<p>Additionally to these variables, the <code>sessions</code> tibble
will incorporate other variables from the methodology
(e.g. <code>Disconnection</code>, <code>Timecycle</code>,
<code>Cluster</code>, <code>Profile</code>, etc.) and every use case may
have specific variables like the ID of users, postalcode, etc. Of course
that there is no problem to add extra variables to the data set, the
only condition is that the variables described above must have these
specific names.</p>
<p>Some notes about these variables:</p>
<ul>
<li><p>All <code>datetime</code> variables
(<code>ConnectionStartDateTime</code>,
<code>ConnectionEndDateTime</code>, <code>ChargingStartDateTime</code>
and <code>ChargingEndDateTime</code>) must be in the time zone of the
corresponding city. This can be set using function
<code><a href="https://lubridate.tidyverse.org/reference/with_tz.html" class="external-link">lubridate::with_tz</a></code>.</p></li>
<li>
<p>To create time-periods variables (<code>ConnectionHours</code>
and <code>ChargingHours</code>) it is recommended to use the following
function:</p>
<p><code>as.numeric(ConnectionEndDateTime - ConnectionStartDateTime, units = "hours")</code></p>
</li>
</ul></main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marc Cañigueral.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
